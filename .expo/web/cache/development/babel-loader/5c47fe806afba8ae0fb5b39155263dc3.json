{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _excluded = [\"textMarginHorizontal\", \"textFontFamily\", \"textFontSize\", \"textFontWeight\", \"textColor\", \"placeholderColor\", \"iconWidth\", \"iconHeight\", \"iconMarginHorizontal\", \"iconTintColor\", \"labelColor\", \"labelFontSize\", \"labelMarginBottom\", \"labelFontWeight\", \"labelFontFamily\", \"captionMarginTop\", \"captionColor\", \"captionFontSize\", \"captionFontWeight\", \"captionFontFamily\", \"popoverWidth\"],\n    _excluded2 = [\"eva\", \"style\", \"testID\", \"backdropStyle\", \"controlStyle\", \"placement\", \"label\", \"accessoryLeft\", \"accessoryRight\", \"caption\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar devsupport_1 = require(\"../../devsupport\");\n\nvar theme_1 = require(\"../../theme\");\n\nvar nativeDate_service_1 = require(\"../calendar/service/nativeDate.service\");\n\nvar popover_component_1 = require(\"../popover/popover.component\");\n\nvar type_1 = require(\"../popover/type\");\n\nvar BaseDatepickerComponent = function (_react_1$default$Comp) {\n  _inherits(BaseDatepickerComponent, _react_1$default$Comp);\n\n  var _super = _createSuper(BaseDatepickerComponent);\n\n  function BaseDatepickerComponent() {\n    var _this;\n\n    _classCallCheck(this, BaseDatepickerComponent);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      visible: false\n    };\n    _this.calendarRef = react_1.default.createRef();\n\n    _this.scrollToToday = function () {\n      var _this$calendarRef$cur;\n\n      (_this$calendarRef$cur = _this.calendarRef.current) == null ? void 0 : _this$calendarRef$cur.scrollToToday();\n    };\n\n    _this.scrollToDate = function (date) {\n      var _this$calendarRef$cur2;\n\n      (_this$calendarRef$cur2 = _this.calendarRef.current) == null ? void 0 : _this$calendarRef$cur2.scrollToDate(date);\n    };\n\n    _this.popoverRef = react_1.default.createRef();\n\n    _this.show = function () {\n      var _this$popoverRef$curr;\n\n      (_this$popoverRef$curr = _this.popoverRef.current) == null ? void 0 : _this$popoverRef$curr.show();\n    };\n\n    _this.hide = function () {\n      var _this$popoverRef$curr2;\n\n      (_this$popoverRef$curr2 = _this.popoverRef.current) == null ? void 0 : _this$popoverRef$curr2.hide();\n    };\n\n    _this.focus = function () {\n      _this.setState({\n        visible: true\n      }, _this.onPickerVisible);\n    };\n\n    _this.blur = function () {\n      _this.setState({\n        visible: false\n      }, _this.onPickerInvisible);\n    };\n\n    _this.isFocused = function () {\n      return _this.state.visible;\n    };\n\n    _this.getComponentStyle = function (style) {\n      var textMarginHorizontal = style.textMarginHorizontal,\n          textFontFamily = style.textFontFamily,\n          textFontSize = style.textFontSize,\n          textFontWeight = style.textFontWeight,\n          textColor = style.textColor,\n          placeholderColor = style.placeholderColor,\n          iconWidth = style.iconWidth,\n          iconHeight = style.iconHeight,\n          iconMarginHorizontal = style.iconMarginHorizontal,\n          iconTintColor = style.iconTintColor,\n          labelColor = style.labelColor,\n          labelFontSize = style.labelFontSize,\n          labelMarginBottom = style.labelMarginBottom,\n          labelFontWeight = style.labelFontWeight,\n          labelFontFamily = style.labelFontFamily,\n          captionMarginTop = style.captionMarginTop,\n          captionColor = style.captionColor,\n          captionFontSize = style.captionFontSize,\n          captionFontWeight = style.captionFontWeight,\n          captionFontFamily = style.captionFontFamily,\n          popoverWidth = style.popoverWidth,\n          controlParameters = _objectWithoutProperties(style, _excluded);\n\n      return {\n        control: controlParameters,\n        text: {\n          marginHorizontal: textMarginHorizontal,\n          fontFamily: textFontFamily,\n          fontSize: textFontSize,\n          fontWeight: textFontWeight,\n          color: textColor\n        },\n        placeholder: {\n          marginHorizontal: textMarginHorizontal,\n          color: placeholderColor\n        },\n        icon: {\n          width: iconWidth,\n          height: iconHeight,\n          marginHorizontal: iconMarginHorizontal,\n          tintColor: iconTintColor\n        },\n        label: {\n          color: labelColor,\n          fontSize: labelFontSize,\n          fontFamily: labelFontFamily,\n          marginBottom: labelMarginBottom,\n          fontWeight: labelFontWeight\n        },\n        captionLabel: {\n          fontSize: captionFontSize,\n          fontWeight: captionFontWeight,\n          fontFamily: captionFontFamily,\n          color: captionColor\n        },\n        popover: {\n          width: popoverWidth,\n          marginBottom: captionMarginTop\n        }\n      };\n    };\n\n    _this.onPress = function (event) {\n      _this.setPickerVisible();\n\n      _this.props.onPress && _this.props.onPress(event);\n    };\n\n    _this.onPressIn = function (event) {\n      _this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n\n      _this.props.onPressIn && _this.props.onPressIn(event);\n    };\n\n    _this.onPressOut = function (event) {\n      _this.props.eva.dispatch([]);\n\n      _this.props.onPressOut && _this.props.onPressOut(event);\n    };\n\n    _this.onPickerVisible = function () {\n      _this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n\n      _this.props.onFocus && _this.props.onFocus();\n    };\n\n    _this.onPickerInvisible = function () {\n      _this.props.eva.dispatch([]);\n\n      _this.props.onBlur && _this.props.onBlur();\n    };\n\n    _this.setPickerVisible = function () {\n      _this.setState({\n        visible: true\n      }, _this.onPickerVisible);\n    };\n\n    _this.setPickerInvisible = function () {\n      _this.setState({\n        visible: false\n      }, _this.onPickerInvisible);\n    };\n\n    _this.renderInputElement = function (props, evaStyle) {\n      return react_1.default.createElement(devsupport_1.TouchableWithoutFeedback, _extends({}, props, {\n        style: [evaStyle.control, styles.control, _this.props.controlStyle],\n        onPress: _this.onPress,\n        onPressIn: _this.onPressIn,\n        onPressOut: _this.onPressOut\n      }), react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: evaStyle.icon,\n        component: _this.props.accessoryLeft\n      }), react_1.default.createElement(devsupport_1.FalsyText, {\n        style: evaStyle.text,\n        numberOfLines: 1,\n        ellipsizeMode: 'tail',\n        component: _this.getComponentTitle()\n      }), react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: evaStyle.icon,\n        component: _this.props.accessoryRight\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseDatepickerComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          eva = _this$props.eva,\n          style = _this$props.style,\n          testID = _this$props.testID,\n          backdropStyle = _this$props.backdropStyle,\n          controlStyle = _this$props.controlStyle,\n          placement = _this$props.placement,\n          label = _this$props.label,\n          accessoryLeft = _this$props.accessoryLeft,\n          accessoryRight = _this$props.accessoryRight,\n          caption = _this$props.caption,\n          touchableProps = _objectWithoutProperties(_this$props, _excluded2);\n\n      var evaStyle = this.getComponentStyle(eva.style);\n      return react_1.default.createElement(react_native_1.View, {\n        style: style,\n        testID: testID\n      }, react_1.default.createElement(devsupport_1.FalsyText, {\n        style: [evaStyle.label, styles.label],\n        component: label\n      }), react_1.default.createElement(popover_component_1.Popover, {\n        ref: this.popoverRef,\n        style: [evaStyle.popover, styles.popover],\n        backdropStyle: backdropStyle,\n        placement: placement,\n        visible: this.state.visible,\n        anchor: function anchor() {\n          return _this2.renderInputElement(touchableProps, evaStyle);\n        },\n        onBackdropPress: this.setPickerInvisible\n      }, this.renderCalendar()), react_1.default.createElement(devsupport_1.FalsyText, {\n        style: [evaStyle.captionLabel, styles.captionLabel],\n        component: caption\n      }));\n    }\n  }]);\n\n  return BaseDatepickerComponent;\n}(react_1.default.Component);\n\nexports.BaseDatepickerComponent = BaseDatepickerComponent;\nBaseDatepickerComponent.defaultProps = {\n  dateService: new nativeDate_service_1.NativeDateService(),\n  placeholder: 'dd/mm/yyyy',\n  placement: type_1.PopoverPlacements.BOTTOM_START\n};\nvar styles = react_native_1.StyleSheet.create({\n  popover: {\n    borderWidth: 0\n  },\n  control: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  label: {\n    textAlign: 'left'\n  },\n  captionLabel: {\n    textAlign: 'left'\n  }\n});","map":{"version":3,"sources":["../../../../../src/components/ui/datepicker/baseDatepicker.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\nconst nativeDate_service_1 = require(\"../calendar/service/nativeDate.service\");\nconst popover_component_1 = require(\"../popover/popover.component\");\nconst type_1 = require(\"../popover/type\");\nclass BaseDatepickerComponent extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            visible: false,\n        };\n        this.calendarRef = react_1.default.createRef(); // FIXME: ts\n        this.scrollToToday = () => {\n            this.calendarRef.current?.scrollToToday();\n        };\n        this.scrollToDate = (date) => {\n            this.calendarRef.current?.scrollToDate(date);\n        };\n        this.popoverRef = react_1.default.createRef();\n        this.show = () => {\n            this.popoverRef.current?.show();\n        };\n        this.hide = () => {\n            this.popoverRef.current?.hide();\n        };\n        this.focus = () => {\n            this.setState({ visible: true }, this.onPickerVisible);\n        };\n        this.blur = () => {\n            this.setState({ visible: false }, this.onPickerInvisible);\n        };\n        this.isFocused = () => {\n            return this.state.visible;\n        };\n        this.getComponentStyle = (style) => {\n            const { textMarginHorizontal, textFontFamily, textFontSize, textFontWeight, textColor, placeholderColor, iconWidth, iconHeight, iconMarginHorizontal, iconTintColor, labelColor, labelFontSize, labelMarginBottom, labelFontWeight, labelFontFamily, captionMarginTop, captionColor, captionFontSize, captionFontWeight, captionFontFamily, popoverWidth, ...controlParameters } = style;\n            return {\n                control: controlParameters,\n                text: {\n                    marginHorizontal: textMarginHorizontal,\n                    fontFamily: textFontFamily,\n                    fontSize: textFontSize,\n                    fontWeight: textFontWeight,\n                    color: textColor,\n                },\n                placeholder: {\n                    marginHorizontal: textMarginHorizontal,\n                    color: placeholderColor,\n                },\n                icon: {\n                    width: iconWidth,\n                    height: iconHeight,\n                    marginHorizontal: iconMarginHorizontal,\n                    tintColor: iconTintColor,\n                },\n                label: {\n                    color: labelColor,\n                    fontSize: labelFontSize,\n                    fontFamily: labelFontFamily,\n                    marginBottom: labelMarginBottom,\n                    fontWeight: labelFontWeight,\n                },\n                captionLabel: {\n                    fontSize: captionFontSize,\n                    fontWeight: captionFontWeight,\n                    fontFamily: captionFontFamily,\n                    color: captionColor,\n                },\n                popover: {\n                    width: popoverWidth,\n                    marginBottom: captionMarginTop,\n                },\n            };\n        };\n        this.onPress = (event) => {\n            this.setPickerVisible();\n            this.props.onPress && this.props.onPress(event);\n        };\n        this.onPressIn = (event) => {\n            this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n            this.props.onPressIn && this.props.onPressIn(event);\n        };\n        this.onPressOut = (event) => {\n            this.props.eva.dispatch([]);\n            this.props.onPressOut && this.props.onPressOut(event);\n        };\n        this.onPickerVisible = () => {\n            this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n            this.props.onFocus && this.props.onFocus();\n        };\n        this.onPickerInvisible = () => {\n            this.props.eva.dispatch([]);\n            this.props.onBlur && this.props.onBlur();\n        };\n        this.setPickerVisible = () => {\n            this.setState({ visible: true }, this.onPickerVisible);\n        };\n        this.setPickerInvisible = () => {\n            this.setState({ visible: false }, this.onPickerInvisible);\n        };\n        this.renderInputElement = (props, evaStyle) => {\n            return (react_1.default.createElement(devsupport_1.TouchableWithoutFeedback, Object.assign({}, props, { style: [evaStyle.control, styles.control, this.props.controlStyle], onPress: this.onPress, onPressIn: this.onPressIn, onPressOut: this.onPressOut }),\n                react_1.default.createElement(devsupport_1.FalsyFC, { style: evaStyle.icon, component: this.props.accessoryLeft }),\n                react_1.default.createElement(devsupport_1.FalsyText, { style: evaStyle.text, numberOfLines: 1, ellipsizeMode: 'tail', component: this.getComponentTitle() }),\n                react_1.default.createElement(devsupport_1.FalsyFC, { style: evaStyle.icon, component: this.props.accessoryRight })));\n        };\n    }\n    render() {\n        const { eva, style, testID, backdropStyle, controlStyle, placement, label, accessoryLeft, accessoryRight, caption, ...touchableProps } = this.props;\n        const evaStyle = this.getComponentStyle(eva.style);\n        return (react_1.default.createElement(react_native_1.View, { style: style, testID: testID },\n            react_1.default.createElement(devsupport_1.FalsyText, { style: [evaStyle.label, styles.label], component: label }),\n            react_1.default.createElement(popover_component_1.Popover, { ref: this.popoverRef, style: [evaStyle.popover, styles.popover], backdropStyle: backdropStyle, placement: placement, visible: this.state.visible, anchor: () => this.renderInputElement(touchableProps, evaStyle), onBackdropPress: this.setPickerInvisible }, this.renderCalendar()),\n            react_1.default.createElement(devsupport_1.FalsyText, { style: [evaStyle.captionLabel, styles.captionLabel], component: caption })));\n    }\n}\nexports.BaseDatepickerComponent = BaseDatepickerComponent;\nBaseDatepickerComponent.defaultProps = {\n    dateService: new nativeDate_service_1.NativeDateService(),\n    placeholder: 'dd/mm/yyyy',\n    placement: type_1.PopoverPlacements.BOTTOM_START,\n};\nconst styles = react_native_1.StyleSheet.create({\n    popover: {\n        borderWidth: 0,\n    },\n    control: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    label: {\n        textAlign: 'left',\n    },\n    captionLabel: {\n        textAlign: 'left',\n    },\n});\n//# sourceMappingURL=baseDatepicker.component.js.map"]},"metadata":{},"sourceType":"script"}