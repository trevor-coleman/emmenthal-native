{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { color } from \"../../theme\";\nvar THUMB_SIZE = 30;\nvar WIDTH = 56;\nvar MARGIN = 2;\nvar OFF_POSITION = -0.5;\nvar ON_POSITION = WIDTH - THUMB_SIZE - MARGIN;\nvar BORDER_RADIUS = THUMB_SIZE * 3 / 4;\nvar ON_COLOR = color.primary;\nvar OFF_COLOR = color.palette.offWhite;\nvar BORDER_ON_COLOR = ON_COLOR;\nvar BORDER_OFF_COLOR = \"rgba(0, 0, 0, 0.1)\";\nvar DURATION = 250;\nvar TRACK = {\n  height: THUMB_SIZE + MARGIN,\n  width: WIDTH,\n  borderRadius: BORDER_RADIUS,\n  borderWidth: MARGIN / 2,\n  backgroundColor: color.background\n};\nvar THUMB = {\n  position: \"absolute\",\n  width: THUMB_SIZE,\n  height: THUMB_SIZE,\n  borderColor: BORDER_OFF_COLOR,\n  borderRadius: THUMB_SIZE / 2,\n  borderWidth: MARGIN / 2,\n  backgroundColor: color.background,\n  shadowColor: BORDER_OFF_COLOR,\n  shadowOffset: {\n    width: 1,\n    height: 2\n  },\n  shadowOpacity: 1,\n  shadowRadius: 2,\n  elevation: 2\n};\n\nvar makeAnimatedValue = function makeAnimatedValue(switchOn) {\n  return new Animated.Value(switchOn ? 1 : 0);\n};\n\nexport function Switch(props) {\n  var _React$useState = React.useState(makeAnimatedValue(props.value)),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      timer = _React$useState2[0];\n\n  var startAnimation = React.useMemo(function () {\n    return function (newValue) {\n      var toValue = newValue ? 1 : 0;\n      var easing = Easing.out(Easing.circle);\n      Animated.timing(timer, {\n        toValue: toValue,\n        duration: DURATION,\n        easing: easing,\n        useNativeDriver: true\n      }).start();\n    };\n  }, [timer]);\n\n  var _React$useState3 = React.useState(props.value),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      previousValue = _React$useState4[0],\n      setPreviousValue = _React$useState4[1];\n\n  React.useEffect(function () {\n    if (props.value !== previousValue) {\n      startAnimation(props.value);\n      setPreviousValue(props.value);\n    }\n  }, [props.value]);\n  var handlePress = React.useMemo(function () {\n    return function () {\n      return props.onToggle && props.onToggle(!props.value);\n    };\n  }, [props.onToggle, props.value]);\n\n  if (!timer) {\n    return null;\n  }\n\n  var translateX = timer.interpolate({\n    inputRange: [0, 1],\n    outputRange: [OFF_POSITION, ON_POSITION]\n  });\n  var style = props.style;\n  var trackStyle = [TRACK, {\n    backgroundColor: props.value ? ON_COLOR : OFF_COLOR,\n    borderColor: props.value ? BORDER_ON_COLOR : BORDER_OFF_COLOR\n  }, props.value ? props.trackOnStyle : props.trackOffStyle];\n  var thumbStyle = [THUMB, {\n    transform: [{\n      translateX: translateX\n    }]\n  }, props.value ? props.thumbOnStyle : props.thumbOffStyle];\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: handlePress,\n    style: style\n  }, React.createElement(Animated.View, {\n    style: trackStyle\n  }, React.createElement(Animated.View, {\n    style: thumbStyle\n  })));\n}","map":{"version":3,"sources":["/Users/trevorcoleman/dev/trevor-coleman/EmmenthalCloud/app/components/switch/switch.tsx"],"names":["React","color","THUMB_SIZE","WIDTH","MARGIN","OFF_POSITION","ON_POSITION","BORDER_RADIUS","ON_COLOR","primary","OFF_COLOR","palette","offWhite","BORDER_ON_COLOR","BORDER_OFF_COLOR","DURATION","TRACK","height","width","borderRadius","borderWidth","backgroundColor","background","THUMB","position","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","makeAnimatedValue","switchOn","Animated","Value","Switch","props","useState","value","timer","startAnimation","useMemo","newValue","toValue","easing","Easing","out","circle","timing","duration","useNativeDriver","start","previousValue","setPreviousValue","useEffect","handlePress","onToggle","translateX","interpolate","inputRange","outputRange","style","trackStyle","trackOnStyle","trackOffStyle","thumbStyle","transform","thumbOnStyle","thumbOffStyle"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { ViewStyle, Animated, Easing, TouchableWithoutFeedback } from \"react-native\"\nimport { color } from \"../../theme\"\nimport { SwitchProps } from \"./switch.props\"\n\n// dimensions\nconst THUMB_SIZE = 30\nconst WIDTH = 56\nconst MARGIN = 2\nconst OFF_POSITION = -0.5\nconst ON_POSITION = WIDTH - THUMB_SIZE - MARGIN\nconst BORDER_RADIUS = (THUMB_SIZE * 3) / 4\n\n// colors\nconst ON_COLOR = color.primary\nconst OFF_COLOR = color.palette.offWhite\nconst BORDER_ON_COLOR = ON_COLOR\nconst BORDER_OFF_COLOR = \"rgba(0, 0, 0, 0.1)\"\n\n// animation\nconst DURATION = 250\n\n// the track always has these props\nconst TRACK = {\n  height: THUMB_SIZE + MARGIN,\n  width: WIDTH,\n  borderRadius: BORDER_RADIUS,\n  borderWidth: MARGIN / 2,\n  backgroundColor: color.background,\n}\n\n// the thumb always has these props\nconst THUMB: ViewStyle = {\n  position: \"absolute\",\n  width: THUMB_SIZE,\n  height: THUMB_SIZE,\n  borderColor: BORDER_OFF_COLOR,\n  borderRadius: THUMB_SIZE / 2,\n  borderWidth: MARGIN / 2,\n  backgroundColor: color.background,\n  shadowColor: BORDER_OFF_COLOR,\n  shadowOffset: { width: 1, height: 2 },\n  shadowOpacity: 1,\n  shadowRadius: 2,\n  elevation: 2,\n}\n\nconst makeAnimatedValue = (switchOn) => new Animated.Value(switchOn ? 1 : 0)\n\nexport function Switch(props: SwitchProps) {\n  const [timer] = React.useState<Animated.Value>(makeAnimatedValue(props.value))\n  const startAnimation = React.useMemo(\n    () => (newValue: boolean) => {\n      const toValue = newValue ? 1 : 0\n      const easing = Easing.out(Easing.circle)\n      Animated.timing(timer, {\n        toValue,\n        duration: DURATION,\n        easing,\n        useNativeDriver: true,\n      }).start()\n    },\n    [timer],\n  )\n\n  const [previousValue, setPreviousValue] = React.useState<boolean>(props.value)\n  React.useEffect(() => {\n    if (props.value !== previousValue) {\n      startAnimation(props.value)\n      setPreviousValue(props.value)\n    }\n  }, [props.value])\n\n  const handlePress = React.useMemo(() => () => props.onToggle && props.onToggle(!props.value), [\n    props.onToggle,\n    props.value,\n  ])\n\n  if (!timer) {\n    return null\n  }\n\n  const translateX = timer.interpolate({\n    inputRange: [0, 1],\n    outputRange: [OFF_POSITION, ON_POSITION],\n  })\n\n  const style = props.style\n\n  const trackStyle = [\n    TRACK,\n    {\n      backgroundColor: props.value ? ON_COLOR : OFF_COLOR,\n      borderColor: props.value ? BORDER_ON_COLOR : BORDER_OFF_COLOR,\n    },\n    props.value ? props.trackOnStyle : props.trackOffStyle,\n  ]\n\n  const thumbStyle = [\n    THUMB,\n    {\n      transform: [{ translateX }],\n    },\n    props.value ? props.thumbOnStyle : props.thumbOffStyle,\n  ]\n\n  return (\n    <TouchableWithoutFeedback onPress={handlePress} style={style}>\n      <Animated.View style={trackStyle}>\n        <Animated.View style={thumbStyle} />\n      </Animated.View>\n    </TouchableWithoutFeedback>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}